<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>02. Test | Nodreame技术进阶</title>
    <meta name="description" content="">
    <meta name="generator" content="VuePress 1.4.0">
    
    
    <link rel="preload" href="/assets/css/0.styles.59ba12ca.css" as="style"><link rel="preload" href="/assets/js/app.95bd46fb.js" as="script"><link rel="preload" href="/assets/js/2.912e649c.js" as="script"><link rel="preload" href="/assets/js/20.02f100e5.js" as="script"><link rel="prefetch" href="/assets/js/10.d8faff9c.js"><link rel="prefetch" href="/assets/js/11.58d4d478.js"><link rel="prefetch" href="/assets/js/12.bdcac471.js"><link rel="prefetch" href="/assets/js/13.f1815f1b.js"><link rel="prefetch" href="/assets/js/14.07c84fe3.js"><link rel="prefetch" href="/assets/js/15.0358a4c8.js"><link rel="prefetch" href="/assets/js/16.46b14490.js"><link rel="prefetch" href="/assets/js/17.dd9f3fcb.js"><link rel="prefetch" href="/assets/js/18.e8a1b1fd.js"><link rel="prefetch" href="/assets/js/19.104f73a9.js"><link rel="prefetch" href="/assets/js/21.3fa7a5b5.js"><link rel="prefetch" href="/assets/js/22.f474843f.js"><link rel="prefetch" href="/assets/js/3.c3b6b868.js"><link rel="prefetch" href="/assets/js/4.5f60d4ea.js"><link rel="prefetch" href="/assets/js/5.3ae4be87.js"><link rel="prefetch" href="/assets/js/6.b95a1647.js"><link rel="prefetch" href="/assets/js/7.15a44d2e.js"><link rel="prefetch" href="/assets/js/8.8e7535bc.js"><link rel="prefetch" href="/assets/js/9.36522d11.js">
    <link rel="stylesheet" href="/assets/css/0.styles.59ba12ca.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Nodreame技术进阶</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="大前端" class="dropdown-title"><span class="title">大前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend/basehome/" class="nav-link">
  前端基础
</a></li><li class="dropdown-item"><!----> <a href="/frontend/vuehome/Vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/frontend/vuehome/VuePress/" class="nav-link">
  VuePress
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据结构 &amp; 算法" class="dropdown-title"><span class="title">数据结构 &amp; 算法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/algorithms/tree/" class="nav-link">
  树
</a></li><li class="dropdown-item"><!----> <a href="/algorithms/dp/" class="nav-link">
  动态规划
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Web" class="dropdown-title"><span class="title">Web</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web/http/" class="nav-link router-link-active">
  HTTP
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/Nodreame" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="大前端" class="dropdown-title"><span class="title">大前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend/basehome/" class="nav-link">
  前端基础
</a></li><li class="dropdown-item"><!----> <a href="/frontend/vuehome/Vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/frontend/vuehome/VuePress/" class="nav-link">
  VuePress
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据结构 &amp; 算法" class="dropdown-title"><span class="title">数据结构 &amp; 算法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/algorithms/tree/" class="nav-link">
  树
</a></li><li class="dropdown-item"><!----> <a href="/algorithms/dp/" class="nav-link">
  动态规划
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Web" class="dropdown-title"><span class="title">Web</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web/http/" class="nav-link router-link-active">
  HTTP
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/Nodreame" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>网络协议</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/web/http/01.html" class="sidebar-link">网络协议</a></li><li><a href="/web/http/02.html" class="active sidebar-link">02. Test</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/web/http/02.html#学前思考" class="sidebar-link">学前思考</a></li><li class="sidebar-sub-header"><a href="/web/http/02.html#随手笔记" class="sidebar-link">随手笔记</a></li><li class="sidebar-sub-header"><a href="/web/http/02.html#目录简览" class="sidebar-link">目录简览</a></li><li class="sidebar-sub-header"><a href="/web/http/02.html#一-溯源篇" class="sidebar-link">一. 溯源篇</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_02-test"><a href="#_02-test" class="header-anchor">#</a> 02. Test</h1> <blockquote><p>20200415 开始学习极客时间<a href="http://gk.link/a/10hFB" target="_blank" rel="noopener noreferrer">《透视 HTTP 协议》<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, 发出什么时候才能成为dalao 的感叹</p></blockquote> <h2 id="学前思考"><a href="#学前思考" class="header-anchor">#</a> 学前思考</h2> <ul><li>HTTP 解决了什么问题</li> <li>HTTPS 解决了 HTTP 什么问题, 通过什么技术手段</li> <li>HTTP2 解决了 HTTP 的什么问题, 通过什么技术手段</li></ul> <h2 id="随手笔记"><a href="#随手笔记" class="header-anchor">#</a> 随手笔记</h2> <ul><li>HTTP协议过于&quot;常见&quot;, 就像水与空气一般，普遍到我们忘记了它们的存在.</li> <li>表面简单: 请求/响应, GET/POST, Header/Body. 每次需要查查找找总能应付过去.</li> <li>实际复杂: 只懂表象或查到就用，颅内无系统概念(就算查找也只能得到模糊概念).</li> <li>作者提问:
<ul><li>[ ] Nginx的指令为什么这么配置？</li> <li>[ ] 写爬虫时 URI &amp; URL 是什么</li> <li>[ ] HTTP 缓存的原理，使用时机</li> <li>[ ] HTTP &amp; HTTPS 的关系，其中的各种概念(SSL/TLS/SNI/OCSP/ALPN)</li></ul></li> <li>HTTP难的原因:
<ul><li>正式资料少: HTTP名书少(过于概念化，缺少实战训练)，且书较老(不合时宜，20年前的RFC2616 -&gt; 现今的RFC7230)</li> <li>网上子类杂: 能解决问题，但只针对一个知识点 &amp; 需要自行鉴别（过于碎片化）</li> <li>权威资料难: RFC文档全英&amp;旁征博引.</li></ul></li> <li>讲述内容: 充分广度 -&gt; 兼具深度
<ul><li>广度(<strong>TODO:知识串链成图</strong>)
<ul><li>HTTP</li> <li>TCP/IP</li> <li>DNS</li> <li>SSL/TLS</li> <li>Web Server</li></ul></li> <li>深度(最新 RFC + 实战心得)</li></ul></li> <li>评论知识:
<ul><li>TCP是面向传输的协议，初衷是解决传输的安全性和可靠性，而应用层有许多公共需求(获取、修改、删除资源)，如果没有 HTTP 则各种浏览器都需要自行实现私有协议，更大的问题是网站服务提供商要去兼容各个终端的协议（不可能），故 HTTP 的出现除了用户因素外，服务提供商也必须去做(类似华为定制5G协议？)</li> <li><a href="https://github.com/chronolaw/ngx_cpp_dev" target="_blank" rel="noopener noreferrer">C++ Nginx 开发<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li></ul> <h2 id="目录简览"><a href="#目录简览" class="header-anchor">#</a> 目录简览</h2> <ul><li>破冰: 溯源 -&gt; 5W1H -&gt; 广度搜索相关概念&amp;协议 -&gt; 分层模型 -&gt; 域名 -&gt; BP:搭实验环境</li> <li>筑基: 一次请求 -&gt; 分析特点、优缺点</li> <li>升阶: HTTP 广度搜索</li> <li>守护: HTTPS 5W1H &amp; 原理</li> <li>上天: HTTP/2 5W1H &amp; 原理, HTTP/3 远眺</li> <li>问道: 场景的实践解析</li> <li>回首: <strong>TODO:先坚持攀登,到顶再回首</strong></li></ul> <h2 id="一-溯源篇"><a href="#一-溯源篇" class="header-anchor">#</a> 一. 溯源篇</h2> <ul><li><p>如果平行世界里有两台电脑A、B(存在极长物理距离)，已有 TCP/IP，现在自行研发协议:</p> <ul><li>【FTP】一对一</li> <li>【HTTP/0.9】A、B上各有一个只有一行HelloWorld文本的网站
<ul><li>如何互相访问;</li></ul></li> <li>【HTTP/1.0】A、B上各提供了一个文件上传接口
<ul><li>如何传输文件</li> <li>如何知道传输结果</li> <li>怎么知道当前的传输协议版本</li> <li>如何在传输时携带信息</li></ul></li> <li>【HTTP/1.1】A、B上各搭建了一个管理系统
<ul><li>如何发出修改、删除请求</li> <li>系统更新时如何实现增量更新(缓存管理&amp;控制)</li> <li>[ ] 如何减免每请求一次之后就要重新握手的消耗(持久连接) TODO: 场景是否正确</li> <li>如何在网络不好的情况下传输超级大文件(数据分块(chunked))</li> <li>[ ] 从单机升级为集群后，如何依旧用原地址访问(Host头) TODO: 场景是否正确</li></ul></li> <li>【HTTP/2.0 - SPDY协议】针对网络环境做升级
<ul><li>带宽不足(纯文本-&gt;二进制)</li> <li>请求过多(可发起多个请求, 服务器可以主动推数据)</li> <li>如何优化请求的数据传输量(哈夫曼压缩Header)</li> <li>如何保证安全性（加密通信）</li></ul></li> <li>【HTTP/3.0 - QUIC协议】</li></ul></li> <li><p>HTTP发展的动力:</p> <ul><li>原始阶段: 是网络通讯需求，然后是实际应用中的检验;</li> <li>商业化阶段: 从&quot;各家自成一派&quot;到&quot;统一游戏规则&quot;降低了&quot;互联&quot;的成本, 在通用规则中实现发展&amp;合作&amp;竞争;</li> <li>研究阶段: 成型之后就是更高更快更强的优化 &amp; 安全隐私方面的提升;</li></ul></li> <li><p>对HTTP的理解:</p> <ul><li>TCP提供了基础能力，HTTP在其之上汇总了公共需求形成通用协议，HTTP的本质是P(Protocol)即协议.交互双方共同遵守.</li> <li>TCP是河，HTTP是船，用于传输.</li> <li>超文本是网状结构(文本包含超链接，超链接对应的文本包含超链接?), 文本是线性结构.</li> <li>拆字法(HyperText Transfer Protocol):
<ul><li>Protocol: 首先是一个协议。协，多方参加；议，约定和规范.
<ul><li>第一层: HTTP是计算机世界里的协议，使计算机能够以一种通用规范(包括控制和错误处理)进行信息交流.</li></ul></li> <li>Transfer: 进一步，HTTP 是一个传输协议.
<ul><li>HTTP是一个双向协议，先发起者为请求方，后接到传输者为应答方或者响应方.</li> <li>请求方和响应方中间可以有任意多个遵从HTTP协议的&quot;中间人&quot;.</li> <li>第二层: HTTP是计算机世界里用来<strong>在两点之间</strong>传输数据的约定和规范.（不能广播、寻址、路由）</li></ul></li> <li>HyperText: 文字、图片、音频、视频都属于超文本.
<ul><li>第三层: HTTP 是在一个计算机世界里用来在两点之间传输文字、图片、音频、视频等超文本信息的约定和规范.</li> <li>Tip: &quot;协议&quot;严格来说应该包含语法、语义、同步规则 &amp; 错误处理.</li> <li>Tip: 浏览器只能作为请求方.</li></ul></li></ul></li></ul></li> <li><p>RFC:</p> <ul><li>HTTP/0.9: 无</li> <li>HTTP/1.0: RFC1945</li> <li>HTTP/1.1: 最初是1999年的 RFC2616, 2014年拆分成了六份文档 7230-7235(只做了细节优化)</li> <li>HTTP/2.0: 2015年的RFC7540</li></ul></li> <li><p>去除错误理解（HTTP不是什么）:</p> <ul><li>不是互联网: 互联网是一个覆盖全球的网络（硬件设备上承载着各种资源，资源通过各种协议传递）</li> <li>不是编程语言: 编程语言用于人机沟通，HTTP用于规范计算机之间的沟通</li> <li>不是孤立的协议: HTTP通常运行在TCP/IP协议栈上，IP协(寻址和路由) &amp; TCP(可靠数据传输) &amp; DNS(域名查找) &amp; SSL/TLS(安全通信)共同构成了协议网. <strong>HTTP处于中心地位.</strong> <ul><li>Tip: HTTP 在 UNIX 上可以运行在 Domain Socket 和 SSL/TLS 上.</li></ul></li> <li>不是实际存在的软件: 只是规范，没有实体.</li></ul></li> <li><p>TODO:问题:</p> <ul><li>[ ] 局域网、广域网、英特网(FTP、IMAP/POP3、BT、Magnet)、万维网各是什么，有什么区别
<ul><li>浏览器访问的是万维网哦.</li></ul></li></ul></li> <li><p>HTTP世界地图:</p> <ul><li>流程: UserAgent(浏览器or爬虫) -&gt; HTTP请求 -&gt; 部分静态资源CDN直接响应 -&gt;  WAF过滤 -&gt; 服务器 -&gt; 返回 HTML 或请求结果.</li> <li>鸟瞰: 互联网(Internet)由茫茫多的岛屿(小型网络:包括局域网、广域网、固定网络、移动网络)组成.
<ul><li>万维网: 基于 HTTP 传输超文本资源（能力被限制在 HTTP 内）</li> <li>电子邮件: 基于 IMAP/POP3</li> <li>下载: BT/Magnet</li> <li>其他: FTP文件服务器、SSH安全登录、即时通讯服务</li></ul></li> <li>HTTP协议的灵活性和可扩展性 + 超文本的表述能力 =&gt; 绝大部分资源使用HTTP传输(可将其他原本不属于 HTTP 的资源包装成 HTTP 来访问)
<ul><li>[ ] 微信网页版原理: WebSocket+HTTP?</li> <li>[ ] 邮箱网页版原理: IMAP/POP3 =&gt; WebSocket+HTTP?</li></ul></li> <li>浏览器（Web Browser，其中Web -&gt; World Wide Web, 万维网): 作为HTTP协议中的请求方(无响应能力), 即 User Agent.</li> <li>服务器（Web Server）: HTTP 协议里响应请求的主体. 硬件(主机 or 集群) + 软件（提供资源或请求响应）</li> <li>CDN (Content Delivery Network): 位于浏览器和服务器之间, 缓存源站的数据，缩短响应时间.</li> <li>爬虫（Crawler）: 多来自搜索引擎, 也属于 User Agent.</li> <li>HTML: 主要传输内容之一</li> <li>Web Service: W3C定义的应用服务开发规范，使用CS主从架构，通过WSDL定义服务接口，使用HTTP协议传输XML和SOAP消息.
<ul><li>Web Service 是一个基于Web(HTTP)的服务架构技术.</li> <li>Web Service 是网络服务实体 和 Web Server 是网络服务器，后退着为了承载前者而存在.</li></ul></li> <li>WAF: 网络应用防火墙, 位于 Web 服务器之前提供防御服务(ModSecurity 可以集成进 Apache 或 Nginx).</li></ul></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/web/http/01.html" class="prev">
        网络协议
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.95bd46fb.js" defer></script><script src="/assets/js/2.912e649c.js" defer></script><script src="/assets/js/20.02f100e5.js" defer></script>
  </body>
</html>
